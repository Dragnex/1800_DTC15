<!DOCTYPE html>

<html>

    <head>
        <meta charset="utf-8">
        <title>SkillStreaks - Login</title>
        <meta name="comp1800 boilerplate code" content="my bcit project">
        <meta name="author" content="BCIT">

        <!--Fibase 8 CDNs-->
        <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

        <link href="./navbar.css" rel="stylesheet"/>
        <link href="./login.css" rel="stylesheet"/>

        <script src="scripts/login.js"></script>
    </head>

    <body>
      <div class="background">
        <!-- <div class="login-color-block">
          <div class="login-color-block-orange"></div>
          <div class="login-color-block-blue"></div>
          <div class="login-color-block-green"></div>
          <div class="login-color-block-red"></div>
        </div> -->
          <div class="pos-f-t">
            <nav class="navbar navbar-dark navbar-top">
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <svg id="logo" data-name="logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 304.1 36.9"><defs><style>.cls-1{fill:#ffffff;}</style></defs><path class="cls-1" d="M210.46,235.5c1.57,0,3.21,0,4.92.05,0-.65,0-1.22.05-1.71l.16-3.2c0-.37,0-.81.1-1.35-1.47,0-3.18.05-5.13.05-1.41,0-3.16,0-5.25-.05,0,.59,0,1.05,0,1.4,0,1.19-.05,2.81-.16,4.86C207.08,235.52,208.84,235.5,210.46,235.5Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M215,247.46q.19-3.71.64-8.59c-2.3,0-4.06,0-5.28,0s-3.14,0-5.39,0c-.05,3.39-.12,6.38-.2,8.95a2.53,2.53,0,0,0,0,.28q5-.25,10.23-.49A.76.76,0,0,0,215,247.46Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M204.5,253.7l-.06,1.16c-.11,2.12-.23,3.86-.35,5.23s-.3,3.09-.54,5.2c2.38,0,4.3-.05,5.77-.05s3.25,0,5.3.05q0-2.64.1-10c0-.8,0-1.55.05-2.33Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M232,237.91l.59-7.95c-1.9,0-3.63,0-5.21,0-1.21,0-3,0-5.41,0l-.28,10.41-.36,7,10.23-.44Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M221,252.56l-.38,7.16-.46,5.57,5.62,0,5,0,.21-7.82.27-5.57Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M248.38,237.91,249,230c-1.9,0-3.64,0-5.21,0-1.21,0-3,0-5.41,0l-.29,10.41-.32,6.28c3.37-.14,6.79-.27,10.23-.39Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M237.49,251.53l-.43,8.19-.46,5.57,5.62,0,5,0,.21-7.82.32-6.54Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M267.52,243.3a13.21,13.21,0,0,1-1.5-1.45,4.32,4.32,0,0,1-.77-1.15,2.5,2.5,0,0,1-.21-1,2.16,2.16,0,0,1,1.33-1.86,6.78,6.78,0,0,1,3.35-.75,19.33,19.33,0,0,1,3.39.37,24.31,24.31,0,0,1,4.35,1.34c-.26-2.49-.42-4.22-.49-5.22s-.13-2.08-.18-3.27a50,50,0,0,0-9.52-1,26.64,26.64,0,0,0-4.33.35A13,13,0,0,0,259,231a9.63,9.63,0,0,0-2.95,2.27,9.47,9.47,0,0,0-1.67,2.84,8.94,8.94,0,0,0-.21,5.59A8.77,8.77,0,0,0,255.3,244a13.55,13.55,0,0,0,1.65,2l13.29-.45C269,244.53,268.11,243.8,267.52,243.3Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M276.83,252.35a10.25,10.25,0,0,0-1.08-1.71,13.87,13.87,0,0,0-1-1.16l-13.07.68,3,2.6a7.81,7.81,0,0,1,1,1.1,3.59,3.59,0,0,1,.49.91,2.63,2.63,0,0,1,.13.84,2.1,2.1,0,0,1-1.34,1.95,8.16,8.16,0,0,1-3.59.66,19.09,19.09,0,0,1-4-.5,28.45,28.45,0,0,1-5.17-1.8q.43,3.32.78,8.82A58.83,58.83,0,0,0,263.64,266a24,24,0,0,0,5.17-.54,13.55,13.55,0,0,0,4.49-1.9,9.55,9.55,0,0,0,4.27-7.91,7.7,7.7,0,0,0-.19-1.7A7.46,7.46,0,0,0,276.83,252.35Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M297.93,258.33a3.07,3.07,0,0,1-1.51-.37,1.94,1.94,0,0,1-1-1.19,6.75,6.75,0,0,1-.27-2.07c0-.27,0-.89.05-1.86l.21-4.37-10.11.49-.4,6.36q-.15,2.28-.18,2.94c0,.44,0,.75,0,.92a8.78,8.78,0,0,0,.42,2.74,5,5,0,0,0,1.55,2.29,6.24,6.24,0,0,0,2.85,1.38,18.32,18.32,0,0,0,3.9.37,26.94,26.94,0,0,0,2.79-.15c.95-.11,2.29-.35,4-.73l.56-3.16c.23-1.38.5-2.79.81-4.24a22.22,22.22,0,0,1-2.39.56A9.66,9.66,0,0,1,297.93,258.33Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M301.71,239.25h-5.9q.07-3.9.26-7.29-4,.94-5.18,1.19l-4.43.9c-.16,2.68-.29,4.41-.39,5.2h-4.29l-.07,2.41c0,1.34-.1,2.48-.16,3.46l20-.59C301.57,243.24,301.62,241.48,301.71,239.25Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M324.69,243.11c-.07-1.23-.11-2.78-.13-4.66a9.59,9.59,0,0,0-2.07-.26,8.29,8.29,0,0,0-1.89.22,6.77,6.77,0,0,0-1.73.68,8.15,8.15,0,0,0-1.48,1,21.31,21.31,0,0,0-1.66,1.7l.11-2.92c-1.86,0-3.51,0-4.94,0-1.23,0-2.89,0-5,0,0,1.86.05,3.42.05,4.68,0,.29,0,.57,0,.86l18.76-.5Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M305.92,248l-.23,5.82-.8,11.49c1.92,0,3.72-.05,5.39-.05s3.38,0,5.05.05c-.07-1.33-.1-2.44-.1-3.34q0-3.82.2-6.81a16.36,16.36,0,0,1,.73-4.34,6.58,6.58,0,0,1,1.38-2.29A5.57,5.57,0,0,1,319,247.4Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M345.57,246.26a5.25,5.25,0,0,1,.39,2.1c0,.21,0,.46,0,.75H337.4a13.17,13.17,0,0,1,.36-1.61,4.71,4.71,0,0,1,.42-.93l-10.1.43a16.59,16.59,0,0,0-1.11,5.9,16,16,0,0,0,.66,4.58,11.37,11.37,0,0,0,1.93,3.84,10.68,10.68,0,0,0,3.14,2.7,12.89,12.89,0,0,0,4.46,1.51,34.4,34.4,0,0,0,5.67.43c1.4,0,2.78-.06,4.14-.19s3-.4,5-.79q1-6,1.29-7.51a53.7,53.7,0,0,1-5.39,1.36,21.66,21.66,0,0,1-3.9.4,8.69,8.69,0,0,1-4.86-1.31,4.56,4.56,0,0,1-2-4.1q0-.33,0-.75l18.14,0a18.66,18.66,0,0,0,.34-3.29,13.65,13.65,0,0,0-.56-3.89Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M352.23,241.27a10.48,10.48,0,0,0-4.55-2.39,22.42,22.42,0,0,0-5.62-.69,20.84,20.84,0,0,0-5.57.75,12.34,12.34,0,0,0-4.8,2.54,10.77,10.77,0,0,0-2,2.31c8.26-.2,16.37-.39,24.21-.56A10.86,10.86,0,0,0,352.23,241.27Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M384.89,241.09a8.2,8.2,0,0,0-4-2.21,21.29,21.29,0,0,0-5.59-.69,61.65,61.65,0,0,0-12.81,1.63c-.2,1.38-.33,2.4-.42,3l0,.19,23.72-.46A4.82,4.82,0,0,0,384.89,241.09Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M375.53,245.06a1.75,1.75,0,0,1,.21.87,1.8,1.8,0,0,1-.13.69,2,2,0,0,1-.42.62,2.51,2.51,0,0,1-.78.51,10.67,10.67,0,0,1-1.6.52c-.75.2-1.58.39-2.47.56a42.19,42.19,0,0,0-5.35,1.32,14.35,14.35,0,0,0-3.32,1.49,8.94,8.94,0,0,0-2.12,1.9,7.66,7.66,0,0,0-1.33,2.28,6.72,6.72,0,0,0-.43,2.38,7.86,7.86,0,0,0,1.15,4,6.68,6.68,0,0,0,3.29,2.89,14,14,0,0,0,5.34.89,26.43,26.43,0,0,0,4.22-.36c.69-2.55,1.29-4.5,1.79-5.82a11,11,0,0,1-1.71.45,8.2,8.2,0,0,1-1.17.09,3.29,3.29,0,0,1-2.22-.62,1.94,1.94,0,0,1-.7-1.5,2.24,2.24,0,0,1,.24-1,2.86,2.86,0,0,1,.83-.9,5,5,0,0,1,1.37-.73c.52-.19,1.25-.42,2.18-.7s1.58-.48,2-.62.88-.36,1.54-.67q-.43,8.9-.79,11.75c1.83,0,3.56-.05,5.18-.05s3.36,0,5.05.05q.21-8.24.59-13.3c.26-3.39.39-5.56.39-6.53,0-.29,0-.55-.05-.82Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M361.49,246.4c.86-.33,1.69-.62,2.49-.89l-2.34.1C361.59,245.86,361.54,246.11,361.49,246.4Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M421.63,238.87q-3.47,0-6,0c-1.23,0-3,0-5.41,0L408,242.23l11.12-.15Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M403,230c-1.92,0-3.58,0-5,0-1.21,0-3,0-5.44,0,0,2.82,0,5.74-.11,8.78,0,1.21-.06,2.46-.1,3.74l9.76-.16C402.41,237.56,402.69,233.43,403,230Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M392.23,246.71l-.29,6.13q-.19,4.24-.41,7.06c-.1,1.39-.27,3.18-.51,5.39,2,0,3.74-.05,5.32-.05,1.38,0,3.07,0,5.07.05q0-8.42.5-18.48c0-.95.09-1.87.14-2.78l-9.74.37C392.28,245.17,392.26,245.92,392.23,246.71Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M416.48,245.56l1.66-2.15-11.15.43-.11.17-4.45,6.41,1.29,2.46q3.31,5.88,3.55,6.35c.41.76.91,1.7,1.47,2.82l1.61,3.24c2.14,0,4-.05,5.69-.05s3.45,0,5.46.05q-6.9-11.43-8.72-14.77C414,248.75,415.28,247.09,416.48,245.56Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M443.25,253.78a12.61,12.61,0,0,0-2.21-2.1c-.58-.47-1.4-1.07-2.43-1.79s-1.69-1.19-1.95-1.38a5.24,5.24,0,0,1-.68-.59,1.8,1.8,0,0,1-.37-.54,1.41,1.41,0,0,1-.11-.54,1.37,1.37,0,0,1,.92-1.29,7.68,7.68,0,0,1,3-.42,16.3,16.3,0,0,1,6,1.24l-.25-4.27c-.07.18-7.32.52-19.52,1a7,7,0,0,0-.52,2.64,6.69,6.69,0,0,0,.42,2.35,7.65,7.65,0,0,0,1.24,2.13,16.41,16.41,0,0,0,2.43,2.25c1.07.84,2.32,1.78,3.73,2.82a5.4,5.4,0,0,1,1.22,1.1,1.45,1.45,0,0,1,.27.81,1.42,1.42,0,0,1-.36.91,2.24,2.24,0,0,1-1.15.67,7.19,7.19,0,0,1-2.05.24,13,13,0,0,1-3.33-.48,39.6,39.6,0,0,1-4.31-1.47l.21,1.87c.15,1.46.26,2.62.33,3.45s.14,1.64.21,2.4q3,.65,5.26.9A35,35,0,0,0,433,266a22.76,22.76,0,0,0,4.32-.4,12.52,12.52,0,0,0,3.9-1.44,7.18,7.18,0,0,0,2.69-2.57,6.67,6.67,0,0,0,.89-3.38,6.6,6.6,0,0,0-.4-2.31A7.54,7.54,0,0,0,443.25,253.78Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M445.17,242.1l-.17-3a58.13,58.13,0,0,0-9.19-.93A17.74,17.74,0,0,0,430,239a6.92,6.92,0,0,0-3.62,2.71c-.06.09-.1.18-.16.27C438.19,241.9,445.24,241.92,445.17,242.1Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M171,259.9c-.1,1.39-.27,3.18-.51,5.39,2,0,3.74-.05,5.33-.05,1.37,0,3.06,0,5.06.05,0-3.06.06-6.29.15-9.67-3.44.32-6.72.64-9.81,1C171.19,257.82,171.12,258.93,171,259.9Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M181.42,246.81q.5-10.06,1.09-16.85c-1.91,0-3.57,0-5,0-1.21,0-3,0-5.44,0,0,2.82,0,5.74-.11,8.78q-.08,3.8-.25,8l-.16,3.35c3.07-.22,6.32-.44,9.72-.66C181.34,248.54,181.37,247.69,181.42,246.81Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M196,245.56l5.15-6.69q-3.46,0-6,0c-1.22,0-3,0-5.41,0L186.39,244l-3.68,5.31c3.49-.22,7.14-.43,10.93-.64C194.43,247.59,195.22,246.54,196,245.56Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M184.6,255.3c1.33,2.37,2.06,3.69,2.18,3.93.42.76.91,1.7,1.48,2.82l1.6,3.24c2.14,0,4-.05,5.7-.05s3.44,0,5.46.05c-2.78-4.59-4.93-8.19-6.48-10.83C191.11,254.74,187.79,255,184.6,255.3Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M166.19,250.42h0a18.41,18.41,0,0,0-1.66-1.89c-.64-.64-1.23-1.18-1.78-1.63l-1.87-1.47c-1.33-1-2.3-1.82-2.92-2.35a13.21,13.21,0,0,1-1.5-1.44,4.68,4.68,0,0,1-.78-1.16,2.49,2.49,0,0,1-.21-1,2.17,2.17,0,0,1,1.34-1.87,6.72,6.72,0,0,1,3.35-.75,18.52,18.52,0,0,1,3.39.38,23.35,23.35,0,0,1,4.34,1.33c-.25-2.49-.42-4.22-.49-5.22s-.13-2.08-.18-3.27a50,50,0,0,0-9.52-1,26.42,26.42,0,0,0-4.32.35,13.06,13.06,0,0,0-3.94,1.31,9.65,9.65,0,0,0-2.95,2.28,9.42,9.42,0,0,0-1.67,2.83,8.91,8.91,0,0,0-.55,3.09,8.33,8.33,0,0,0,1.46,4.82,16.28,16.28,0,0,0,2.14,2.45c.45.44,1.25,1.13,2.39,2.1l3.81,3.32c3.44-.41,7.52-.8,12.12-1.19Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M143.49,264.52a58.69,58.69,0,0,0,10.59,1.21,23.87,23.87,0,0,0,5.16-.54,13.26,13.26,0,0,0,4.49-1.9,9.47,9.47,0,0,0,3.16-3.47,9.69,9.69,0,0,0,1-2.85C148.06,259.28,137.77,261.8,143.49,264.52Z" transform="translate(-141.31 -229.06)"/><path class="cls-1" d="M147.89,257.49a18.36,18.36,0,0,0,4,.5,8.19,8.19,0,0,0,3.59-.66,2.09,2.09,0,0,0,1.33-1.95,2.63,2.63,0,0,0-.13-.84,3.29,3.29,0,0,0-.49-.91,7.26,7.26,0,0,0-1-1.1l-1.06-.92c-10.67,1.26-15.32,2.63-11.36,4.08A28.27,28.27,0,0,0,147.89,257.49Z" transform="translate(-141.31 -229.06)"/></svg>

            </nav>
            <div class="collapse" id="navbarToggleExternalContent">
              <div class="bg-dark p-4">
                <h5 class="text-white h4"><a href="./login.html">Login</a></h5>
                <h5 class="text-white h4"><a href="./about-us.html">About Us</a></h5>
              </div>
            </div>
          </div>

        <div id="firebaseui-auth-container"></div>

        <script>
            function writeHikes() {
                    //define a variable for the collection you want to create in Firestore to populate data
                    var hikesRef = db.collection("Hikes");

                    hikesRef.add({
                        code:"BBY01",
                        name: "Burnaby Lake Park Trail",    //replace with your own city?
                        city: "Burnaby",
                        province: "BC",
                        level: "easy",
                        length: "10 km",
                        length_time: "2h 33mm"
                    });
                    hikesRef.add({
                        code:"AM01",
                        name: "Buntzen Lake Trail Trail",    //replace with your own city?
                        city: "Anmore",
                        province: "BC",
                        level: "moderate",
                        length: "10.5 km",
                        length_time: "3h 17mm"
                    });
                    hikesRef.add({
                        code:"NV01",
                        name: "Mount Seymoure Trail",    //replace with your own city?
                        city: "North Vancouver",
                        province: "BC",
                        level: "hard",
                        length: "8.2 km",
                        length_time: "3h 20m"
                    });
                    hikesRef.add({
                        Skills: {
                          bruh: "bruh"
                        }
                    });
            }
            // Initialize the FirebaseUI Widget using Firebase.
            var ui = new firebaseui.auth.AuthUI(firebase.auth());
            var uiConfig = {
                    callbacks: {
                        signInSuccessWithAuthResult: function (authResult, redirectUrl) {
                            // User successfully signed in.
                            // Return type determines whether we continue the redirect automatically
                            // or whether we leave that to developer to handle.
                            var user = authResult.user;
                            //Determine whether the user is  anew user or not
                            if (authResult.additionalUserInfo.isNewUser){
                                db.collection("users").doc(user.uid).set({
                                    name: user.displayName,
                                    email: user.email,
                                    Skills: {
                                      test: "test"
                                    }
                                }).then(function(){
                                    window.location.assign("main.html");
                                })
                                .catch(function(e){
                                    console.error("Error: " + e);
                                })
                            }
                            else{
                                return true;
                            }
                            return false
                        },
                        uiShown: function () {
                            // The widget is rendered.
                            // Hide the loader.
                            document.getElementById('loader').style.display = 'none';
                        }
                    },
                    // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
                    signInFlow: 'popup',
                    signInSuccessUrl: 'main.html',
                    signInOptions: [
                        // Leave the lines as is for the providers you want to offer your users.
                        //firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                        //firebase.auth.FacebookAuthProvider.PROVIDER_ID,
                        //firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                        //firebase.auth.GithubAuthProvider.PROVIDER_ID,
                        firebase.auth.EmailAuthProvider.PROVIDER_ID,
                        //firebase.auth.PhoneAuthProvider.PROVIDER_ID
                    ],
                    // Terms of service url.
                    tosUrl: '<your-tos-url>',
                    // Privacy policy url.
                    privacyPolicyUrl: '<your-privacy-policy-url>'
                };

            // The start method will wait until the DOM is loaded.
            ui.start('#firebaseui-auth-container', uiConfig);
        </script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
      </div>
    </body>

</html>